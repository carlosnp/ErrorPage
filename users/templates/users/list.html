{% extends "base.html" %}

{% block title %} {{block.super}} User | List {% endblock %}

{% block content %}
	<h1>Control de Usuarios</h1>
	<a class="botones" href="{% url 'users:create' %}">Crear Usuario</a>
	<hr>
	<table id="TableMaster" class="table table-striped table-bordered responsive nowrap" data-page-length="10" style="width:100%">
		<thead>
			<tr>
				<td>Usuario</td>
				<td>Nombre</td>
				<td>Apellido</td>
				<td>Teléfono</td>
				<td>Email</td>
				<td></td>
			</tr>
		</thead>
		<tbody>
			{% for instance in object_list %}
			<tr>
				<td> <a href="{{ instance.get_absolute_url }}"> {{ instance.username }} </a> </td>
				<td> {{ instance.first_name }} </td>
				<td> {{ instance.last_name }} </td>
				<td> {{ instance.phone }} </td>
				<td> {{ instance.email }} </td>
				<td> 
					<a href="{% url 'users:update' pk=instance.id %}">Editar</a>
					<a href="{% url 'users:delete' pk=instance.id %}">Eliminar</a>  
				</td>
			</tr>
			{% endfor %}
		</tbody>
		<tfoot>
			<tr>
				<td>Nombre de Usuario</td>
				<td>Nombre</td>
				<td>Apellido</td>
				<td>Teléfono</td>
				<td>Email</td>
				<td></td>
			</tr>
		</tfoot>
	</table>
{% endblock %}

{% block extraJs %}
{% load staticfiles %}
	<script>
		$(document).ready(function() {
		    $('#TableMaster').DataTable({
		    	responsive: {
		            details: {
		                type: 'column'
		            }
		        },
		        dom: 'Bfrtip',
		        buttons: [
		        	{
		        		extend: 'copyHtml5',
		        		text: 'Copiar',	
		        	},
		            {
		            	extend: 'excelHtml5',
		            	title: 'User Data Export to Excel',
		            	messageBottom: 'ErrorPage Users'
		            },
		            {
		            	extend: 'pdfHtml5',
		            	download: 'open',	
		            	title: 'User Data Export to pdf',
		            	messageBottom: 'ErrorPage Users',
		            },
		            {
		            	extend: 'csvHtml5',
		            	title: 'User Data Export to csv',
		            	messageBottom: 'ErrorPage Users'
		            },
		            {
		                extend: 'print',
		                text: 'Imprimir',
		            }
		        ],
		        "lengthMenu": [ 5, 10, 15, 20, 25 ],
		    	"language": {
		    		"processing":"Procesando...",
		            "lengthMenu": "_MENU_ registros por página",
		            "zeroRecords": "No se encuentran conincidencias - Lo siento",
		            "info": "Mostrando la página _PAGE_ de _PAGES_",
		            "infoEmpty": "No hay registros disponibles",
		            "infoFiltered": "(filtrados de _MAX_ registros totales)",
		            "search": "Buscar",
		            "url":"",
		            "loadingRecords": "Cargando...",
		            "oPaginate": {
				        "sFirst":    "Primero",
				        "sLast":     "Último",
				        "sNext":     "Siguiente",
				        "sPrevious": "Anterior"
				    },
				    buttons: {
				    	copyTitle: 'Ajouté au presse-papiers',
				    },
				    "oAria": {
				        "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
				        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
				    }
		        },
		    });
		} );
	</script>
{% endblock extraJs %}